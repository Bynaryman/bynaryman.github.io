const DEFAULT_THEME_SETTING="light",DEFAULT_THEME_VARIANT="binary",THEME_DEFAULTS_VERSION="2026-02-light-binary-default",THEME_DEFAULTS_VERSION_KEY="theme-defaults-version",THEME_USER_OVERRIDE_KEY="theme-user-override";let ensureInitialThemeDefaults=()=>{localStorage.getItem(THEME_DEFAULTS_VERSION_KEY)!==THEME_DEFAULTS_VERSION&&(localStorage.setItem("theme",DEFAULT_THEME_SETTING),localStorage.setItem("theme-variant",DEFAULT_THEME_VARIANT),localStorage.setItem(THEME_USER_OVERRIDE_KEY,"false"),localStorage.setItem(THEME_DEFAULTS_VERSION_KEY,THEME_DEFAULTS_VERSION))},toggleThemeSetting=()=>{let e=determineThemeSetting();setThemeSetting("dark"==e?"light":"dark")},setThemeSetting=(e,t=!0)=>{localStorage.setItem("theme",e),localStorage.setItem(THEME_USER_OVERRIDE_KEY,t?"true":"false"),document.documentElement.setAttribute("data-theme-setting",e),applyTheme()},setThemeVariant=e=>{localStorage.setItem("theme-variant",e),document.documentElement.setAttribute("data-theme-variant",e),applyTheme()},applyTheme=()=>{let e=determineComputedTheme(),t=determineThemeVariant();document.documentElement.setAttribute("data-theme-variant",t),transTheme(),setHighlight(e),setGiscusTheme(e),setSearchTheme(e),"undefined"!=typeof mermaid&&setMermaidTheme(e),"undefined"!=typeof Diff2HtmlUI&&setDiff2htmlTheme(e),"undefined"!=typeof echarts&&setEchartsTheme(e),"undefined"!=typeof vegaEmbed&&setVegaLiteTheme(e),document.documentElement.setAttribute("data-theme",e);let a=document.getElementsByTagName("table");for(let t=0;t<a.length;t++)"dark"==e?a[t].classList.add("table-dark"):a[t].classList.remove("table-dark");let m=document.getElementsByClassName("jupyter-notebook-iframe-container");for(let t=0;t<m.length;t++){let a=m[t].getElementsByTagName("iframe")[0].contentWindow.document.body;"dark"==e?(a.setAttribute("data-jp-theme-light","false"),a.setAttribute("data-jp-theme-name","JupyterLab Dark")):(a.setAttribute("data-jp-theme-light","true"),a.setAttribute("data-jp-theme-name","JupyterLab Light"))}"undefined"!=typeof medium_zoom&&medium_zoom.update({background:getComputedStyle(document.documentElement).getPropertyValue("--global-bg-color")+"ee"}),updateThemeMenuState()},setHighlight=e=>{"dark"==e?(document.getElementById("highlight_theme_light").media="none",document.getElementById("highlight_theme_dark").media=""):(document.getElementById("highlight_theme_dark").media="none",document.getElementById("highlight_theme_light").media="")},setGiscusTheme=e=>{function t(e){const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")}t({setConfig:{theme:e}})},addMermaidZoom=(e,t)=>{d3.selectAll(".mermaid svg").each(function(){var e=d3.select(this);e.html("<g>"+e.html()+"</g>");var t=e.select("g"),a=d3.zoom().on("zoom",function(e){t.attr("transform",e.transform)});e.call(a)}),t.disconnect()},setMermaidTheme=e=>{"light"==e&&(e="default"),document.querySelectorAll(".mermaid").forEach(e=>{let t=e.previousSibling.childNodes[0].innerHTML;e.removeAttribute("data-processed"),e.innerHTML=t}),mermaid.initialize({theme:e}),window.mermaid.init(undefined,document.querySelectorAll(".mermaid"));const t=document.querySelector(".mermaid svg");if(null!==t){const e={childList:!0};new MutationObserver(addMermaidZoom).observe(t,e)}},setDiff2htmlTheme=e=>{document.querySelectorAll(".diff2html").forEach(t=>{let a=t.previousSibling.childNodes[0].innerHTML;t.innerHTML="",new Diff2HtmlUI(t,a,{colorScheme:e,drawFileList:!0,highlight:!0,matching:"lines"}).draw()})},setEchartsTheme=e=>{document.querySelectorAll(".echarts").forEach(t=>{let a=t.previousSibling.childNodes[0].innerHTML;if(echarts.dispose(t),"dark"===e)var m=echarts.init(t,"dark-fresh-cut");else m=echarts.init(t);m.setOption(JSON.parse(a))})},setVegaLiteTheme=e=>{document.querySelectorAll(".vega-lite").forEach(t=>{let a=t.previousSibling.childNodes[0].innerHTML;t.innerHTML="","dark"===e?vegaEmbed(t,JSON.parse(a),{theme:"dark"}):vegaEmbed(t,JSON.parse(a))})},setSearchTheme=e=>{const t=document.querySelector("ninja-keys");t&&("dark"===e?t.classList.add("dark"):t.classList.remove("dark"))},transTheme=()=>{document.documentElement.classList.add("transition"),window.setTimeout(()=>{document.documentElement.classList.remove("transition")},500)},determineThemeSetting=()=>{if(!("true"===localStorage.getItem(THEME_USER_OVERRIDE_KEY)))return localStorage.setItem("theme",DEFAULT_THEME_SETTING),DEFAULT_THEME_SETTING;let e=localStorage.getItem("theme");return"dark"!=e&&"light"!=e&&(e=DEFAULT_THEME_SETTING,localStorage.setItem("theme",e)),e},determineThemeVariant=()=>{let e=localStorage.getItem("theme-variant");return"binary"!=e&&"modus"!=e&&(e=DEFAULT_THEME_VARIANT),e},updateThemeMenuState=()=>{const e=determineThemeSetting(),t=determineThemeVariant();document.querySelectorAll("[data-theme-mode]").forEach(t=>{t.classList.toggle("active",t.dataset.themeMode===e),t.setAttribute("aria-checked",t.dataset.themeMode===e?"true":"false")}),document.querySelectorAll("[data-theme-variant]").forEach(e=>{e.classList.toggle("active",e.dataset.themeVariant===t),e.setAttribute("aria-checked",e.dataset.themeVariant===t?"true":"false")})},determineComputedTheme=()=>determineThemeSetting(),initTheme=()=>{ensureInitialThemeDefaults();let e=determineThemeSetting(),t=determineThemeVariant();setThemeSetting(e,!1),setThemeVariant(t),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("[data-theme-mode]").forEach(e=>{e.addEventListener("click",function(){setThemeSetting(e.dataset.themeMode)})}),document.querySelectorAll("[data-theme-variant]").forEach(e=>{e.addEventListener("click",function(){setThemeVariant(e.dataset.themeVariant)})}),updateThemeMenuState()})};