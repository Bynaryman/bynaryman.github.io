<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="google-site-verification" content="2DNN7Qe_ITQlGo6IlOVkP5TAiA-B2ZvRJ25-20k7hQo"> <script async src="https://www.googletagmanager.com/gtag/js?id=G-YSY28GB5L4"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-YSY28GB5L4");</script> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> OSFNTC | Louis Ledoux </title> <meta name="author" content="Louis Ledoux"> <meta name="description" content="An Open-Source Framework for Efficient Numerically-Tailored Computations"> <meta name="keywords" content="Computer Architect, Computer Scientist, Arithmetics, Floating-Point, Systolic Arrays, GEMM/BLAS, High-Performance Computing, Artificial Intelligence"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/8087_art.jpg?e4f9e8b4a5b350718f16586f024fa7c6"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://bynaryman.github.io/projects/osfntc/"> <script src="/assets/js/theme.js?4c42bc7f3d1c8137b83d7970d7dbc4b5"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <div class="binary-background" aria-hidden="true"> <canvas id="binary-bg" class="binary-background__canvas"></canvas> </div> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Louis</span> Ledoux </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="nav-item dropdown theme-switcher"> <button class="nav-link dropdown-toggle" id="theme-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="Theme settings"> <i class="ti ti-paint"></i> </button> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="theme-toggle"> <h6 class="dropdown-header">Mode</h6> <button class="dropdown-item" type="button" data-theme-mode="light">Light</button> <button class="dropdown-item" type="button" data-theme-mode="dark">Dark</button> <div class="dropdown-divider"></div> <h6 class="dropdown-header">Theme</h6> <button class="dropdown-item" type="button" data-theme-variant="binary">Binary</button> <button class="dropdown-item" type="button" data-theme-variant="modus">Modus</button> </div> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="shell-stage"> <div class="container mt-5 shell-panel" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">OSFNTC</h1> <p class="post-description">An Open-Source Framework for Efficient Numerically-Tailored Computations</p> </header> <article> <p><strong>O</strong>pen-<strong>S</strong>ource <strong>F</strong>ramework for <strong>N</strong>umerically-<strong>T</strong>ailored <strong>C</strong>omputations</p> <p>This project is “An Open-Source Framework for Efficient Numerically-Tailored Computations”, hence the acronym <strong>OSFNTC</strong>.</p> <p>The title of the corresponding paper is enclosed in the quotation marks.</p> <h2 id="table-of-contents">Table of Contents</h2> <ul> <li><a href="#about-the-paper">About the Paper</a></li> <li><a href="#project-structure">Project Structure</a></li> <li><a href="#installation">Installation</a></li> <li><a href="#usage">Usage</a></li> <li><a href="#evaluation">Evaluation</a></li> <li><a href="#asic-tapeout">ASIC tapeout</a></li> <li><a href="#contribution">Contribution</a></li> <li><a href="#license">License</a></li> <li><a href="#citing">Citing</a></li> <li><a href="#authors">Authors</a></li> </ul> <h2 id="about-the-paper">About the Paper</h2> <p>We introduce a flexible open-source framework specifically designed to streamline efficient and numerically-optimized Matrix-Matrix Multiplications (MMMs). This framework offers two key features: Firstly, it provides an automated pipeline for precise arithmetic datapath generation, which enables the creation of highly customized systolic MMM kernels. Secondly, it allows for the effortless integration of these generated kernels into any user code, regardless of the programming language used, without any need for modifications.</p> <p>We utilize this framework within a cutting-edge platform that consists of a Power9 host, an OpenCAPI link, and a Xilinx Virtex UltraScale+ FPGA. The framework exhibits a systemic improvement in terms of accuracy per energy cost across a range of High-Performance Computing (HPC) workloads. These workloads present diverse numerical requirements, including those found in Artificial Intelligence (AI) inference and Sea Surface Height (SSH) computation.</p> <p>For AI inference, we consider a variety of leading-edge neural network models. These include ResNet18, ResNet34, ResNet50, DenseNet121, DenseNet161, DenseNet169, and VGG11. We use two datasets and two computer formats in combination with 27 distinct intermediate arithmetic datapaths. Our approach consistently reduces energy consumption across all scenarios. For instance, we achieve a reduction by factors of 3.3x for IEEE754-32 and 1.4x for Bfloat16 during ImageNet inference with ResNet50, all while maintaining accuracies of 82.3% and 86%, which are comparable to the results achieved with traditional Floating-Point Units (FPUs).</p> <p>In the context of SSH computation, our methodology obtains fully reproducible results using double-precision words, which exceed the accuracy of traditional double- and quad-precision arithmetic in FPUs. Our approach increases SSH computation accuracy by a minimum of 5x and 27x compared to IEEE754-64 and IEEE754-128, respectively. As a result, we achieve improvements in accuracy per power cost by 5.6x and 15.1x, respectively.</p> <p>The two phases framework is depicted by the following image. On the left we observe the runtime execution flow, whereas the rightmost part depicts the a priori hardware generation flow:</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="https://github.com/Bynaryman/OSFNTC/assets/937470/d24f3f4b-1615-4bed-b0f2-75b6d18dc985" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Two phases framework" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> The 2 phases of the framework: right, the a priori Hardware generation flow, and left, the runtime execution flow. </div> <h2 id="project-structure">Project Structure</h2> <p>The repository is organized as follows:</p> <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>OSFNTC/
├── OpenBLAS/              # Custom OpenBLAS library directory
├── PySigmoid/             # Custom PySigmoid library directory
├── SoftPosit/             # Custom SoftPosit library directory
├── eval/                  # Evaluation scripts and data
├── flopoco/               # Custom FloPoCo library directory
├── misc/                  # Miscellaneous scripts and files
├── oc-accel/              # OpenCAPI acceleration framework directory
├── ocse/                  # OpenCAPI Simulation Engine directory
├── runs/                  # Directory for run scripts and logs
├── sim_config/            # Harware Simulation configuration files
├── .gitignore             # Git ignore rules
├── Makefile               # Makefile for building the project
├── README.md              # This file, a concise overview of the project
├── LICENSE.txt            # The used license
├── requirements.txt       # Python requirements for x86 virtual env
└── requirements_P9.txt    # Python requirements for Power9 virtual env

</code></pre></div></div> <p>Please refer to the individual directories for additional readme files and more detailed explanations where applicable.</p> <h2 id="installation">Installation</h2> <p>The installation process for this project is complex and varies depending on your specific goals, machine, kernel, and operating system. Each subframework included here typically has its own Readme file explaining the necessary installation steps.</p> <p>To set up the environment variables used by the underlying framework, execute the following script:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">source</span> ./misc/script_add_stuff_to_venv.sh
</code></pre></div></div> <p>This process is iterative and may require several attempts to succeed. Testing on three different machines revealed slight variations in the required steps.</p> <p>Below are specific commands and comments required to install some of the frameworks.</p> <h3 id="ocse-opencapi-simulation-engine">OCSE (OpenCAPI Simulation Engine)</h3> <p>The libocxl/Makefile has been modified to ensure the correct misc/ocxl version is pulled.</p> <h3 id="openblas">OpenBLAS</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make <span class="nv">USE_OPENMP</span><span class="o">=</span>1
<span class="nb">sudo </span>make <span class="nb">install</span> <span class="c">#(will put on default path in /opt which is ok)</span>
</code></pre></div></div> <h3 id="pytorch">Pytorch</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git submodule <span class="nb">sync
</span>git submodule update <span class="nt">--init</span> <span class="nt">--recursive</span>
pip <span class="nb">install </span>pyyaml
pip <span class="nb">install </span>typing_extensions
<span class="nb">source </span>misc/script_add_stuff_to_venv.sh
python setup.py <span class="nb">install</span>
</code></pre></div></div> <h3 id="numpy">Numpy</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>cython
git submodule update <span class="nt">--init</span>
</code></pre></div></div> <h3 id="pysigmoid">PySigmoid</h3> <p>Our modified PySigmoid to handle any kind of accumulators. Among other things, we use the library to generate input matrices.</p> <h3 id="opennmt-ctranslate2">OpenNMT Ctranslate2</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Requires OpenBLAS to be installed in /usr</span>
git clone <span class="nt">--recursive</span> https://github.com/OpenNMT/CTranslate2.git
<span class="nb">mkdir </span>build <span class="o">&amp;&amp;</span> <span class="nb">cd </span>build
cmake <span class="nt">-DWITH_MKL</span><span class="o">=</span>OFF <span class="nt">-DWITH_OPENBLAS</span><span class="o">=</span>ON <span class="nt">-DOPENMP_RUNTIME</span><span class="o">=</span>COMP <span class="nt">-DENABLE_CPU_DISPATCH</span><span class="o">=</span>OFF ..
make <span class="nt">-j8</span>
<span class="nb">sudo </span>make <span class="nb">install</span>
</code></pre></div></div> <h4 id="python-wrapper">Python wrapper</h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Set CTRANSLATE2_ROOT to build folder</span>
<span class="nb">export </span><span class="nv">CTRANSLATE2_ROOT</span><span class="o">=</span><span class="s2">"</span><span class="si">$(</span><span class="nb">pwd</span><span class="si">)</span><span class="s2">"</span>
<span class="nb">cd </span>python
pip <span class="nb">install</span> <span class="nt">-r</span> install_requirements.txt
python setup.py bdist_wheel
pip <span class="nb">install </span>dist/<span class="k">*</span>.whl
</code></pre></div></div> <h4 id="runtime">Runtime</h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install  </span>OpenNMT-py sentencepiece
wget https://s3.amazonaws.com/opennmt-models/transformer-ende-wmt-pyOnmt.tar.gz
<span class="nb">tar </span>xf transformer-ende-wmt-pyOnmt.tar.gz
ct2-opennmt-py-converter <span class="nt">--model_path</span> averaged-10-epoch.pt <span class="nt">--output_dir</span> ende_ctranslate2
<span class="c">#export LD_LIBRARY_PATH to build path</span>
</code></pre></div></div> <h2 id="usage">Usage</h2> <p>This section is currently under development, but the basic process involves following the steps laid out by oc-accel to create a custom action and generate a bitstream. Once the setup is complete, you can run high-level code that invokes General Matrix Multiply (GEMM) operations, which will then be processed by the FPGA.</p> <p>User-level code and numerical libraries do not need to be changed or recompiled to redirect GEMM calls to our customized Matrix-Matrix Multiplication (MMM) units. Typically, an application would allocate some virtual memory space for the input and output matrices, then call one of the GEMM subroutines (sgemm, dgemm, zgemm, cgemm). This process is illustrated in steps 1) and 2) of the overall framework figure provided in the introduction. Often, these applications are statically or dynamically linked with a Basic Linear Algebra Subprograms (BLAS) library.</p> <p>The execution of the GEMM operation can be dispatched to the FPGA or executed normally on the CPU or GPU, depending on the dimensions of the matrix. This is demonstrated in the following example:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/opt/lib/our_openblas.lib ./gemm.py <span class="c"># will dispatch the GEMM execution to the FPGA (depending on matrix dimensions)</span>
<span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/opt/lib/OpenBLAS.lib ./gemm.py <span class="c"># will work as normal, either on CPU or GPU execution</span>
</code></pre></div></div> <p>Here’s how to call the dgemm and sgemm functions in Python:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">m</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">k</span> <span class="o">=</span> <span class="mi">1024</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="mi">1024</span>
<span class="c1"># calls dgemm
</span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">random</span><span class="p">((</span><span class="n">m</span><span class="p">,</span><span class="n">k</span><span class="p">))</span>
<span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">random</span><span class="p">((</span><span class="n">k</span><span class="p">,</span><span class="n">n</span><span class="p">))</span>
<span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">matmul</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span>

<span class="c1"># calls sgemm
</span><span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">random</span><span class="p">((</span><span class="n">m</span><span class="p">,</span><span class="n">k</span><span class="p">)).</span><span class="nf">astype</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">float32</span><span class="p">)</span>
<span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">random</span><span class="p">((</span><span class="n">k</span><span class="p">,</span><span class="n">n</span><span class="p">)).</span><span class="nf">astype</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">float32</span><span class="p">)</span>
<span class="n">C</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">matmul</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span>

</code></pre></div></div> <h2 id="evaluation">Evaluation</h2> <p>Here, we briefly summarize the two big families of HPC code that we evaluated, each demonstrating distinct numerical requirements.</p> <h3 id="ssh-sea-surface-height">SSH (Sea Surface Height)</h3> <p>Sea Surface Height (SSH) is a crucial metric in ocean circulation model development, aiding in the tracking of ocean currents, eddies, and climate changes. SSH represents sea surface volume, derived from the product of integrated sea surface area and height.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <b>Reverse Longitude First SSH Calculation</b><br> <figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">for</span> <span class="n">j</span><span class="o">=</span><span class="mi">128</span> <span class="n">to</span> <span class="mi">1</span><span class="p">:</span> <span class="c1"># longitude
</span>    <span class="k">for</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span> <span class="n">to</span> <span class="mi">64</span><span class="p">:</span>  <span class="c1"># latitude
</span>        <span class="nb">sum</span> <span class="o">=</span> <span class="nb">sum</span> <span class="o">+</span> <span class="nf">ssh</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span>
    <span class="n">end</span>
<span class="n">end</span>
<span class="nf">print</span><span class="p">(</span><span class="nb">sum</span><span class="p">)</span>  <span class="c1"># 32.302734375
</span>        </code></pre></figure> </div> <div class="col-sm mt-3 mt-md-0"> <b>Latitude First SSH Calculation</b><br> <figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">for</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span> <span class="n">to</span> <span class="mi">64</span><span class="p">:</span>  <span class="c1"># latitude
</span>    <span class="k">for</span> <span class="n">j</span><span class="o">=</span><span class="mi">1</span> <span class="n">to</span> <span class="mi">128</span><span class="p">:</span> <span class="c1"># longitude
</span>        <span class="nb">sum</span> <span class="o">=</span> <span class="nb">sum</span> <span class="o">+</span> <span class="nf">ssh</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span>
    <span class="n">end</span>
<span class="n">end</span>
<span class="nf">print</span><span class="p">(</span><span class="nb">sum</span><span class="p">)</span>  <span class="c1"># 0.6732654571533203
</span>        </code></pre></figure> </div> </div> <p>To reduce errors and approximate the correct result, several techniques are utilized. Self-Compensated and Double-Compensated Summations (SCS and DCS) estimate the round-off error at each step and subtract it in subsequent steps. Sorting the values in decreasing magnitude order is also effective, especially where values alternate signs.</p> <p>This study focuses on the effectiveness of hardware units, comparing our Fused Dot Products (FDPs) to the double- and quad-precision FMAs found in computational systems. The units compared are the IEEE-754 double-precision FMA, the IEEE-754 quad-precision FMA, and our 91-bit FDP fed with IEEE754-64 words.</p> <p>We assessed average, relative standard deviation (RSD), accuracy, and power cost per accurate bit of SSH variable for different vector sizes.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="https://github.com/Bynaryman/OSFNTC/assets/937470/338d6221-c4e1-4b67-9e35-685b3abec5ba" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="SSH results" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Sea Surface Height computation comparing IEEE-754 double-, quad- precision FMAs and a 91-bit FDP with four metrics. </div> <p>The 64-bit and 128-bit FPUs showed decreased reproducibility as vector size increased, while our 91-bit FDP maintained reproducibility across all vector sizes. Quad-precision FPUs improved numerical quality over double-precision FPUs but didn’t offer reproducibility.</p> <p>Our FDP consistently exhibits 52 correct bits, at least 5 and 27.7 times more than quad-precision and double-precision respectively. We also measured the cost of one correct bit in terms of power consumption. Our 91-bit FDP’s power cost was found to be the most efficient, providing more correct bits per wattage than quad-precision and double-precision FMAs.</p> <p>In conclusion, our study demonstrates that a sufficiently precise accumulator provides reproducibility, greater accuracy in HPC workloads, and costs less than double and extended precision methods.</p> <h3 id="ai-artificial-intelligence">AI (Artificial Intelligence)</h3> <p>We evaluate the accuracy and power trade-offs of low-precision accumulators across various neural network models, datasets, and computer formats. Our focus lies on the inference portion of neural network computation, utilizing pre-trained neural networks in their original floating-point formats.</p> <p>We employ Pytorch as a base framework and link it to our modified OpenBLAS. We use popular neural network models such as ResNet18, ResNet34, ResNet50, DenseNet121, DenseNet161, DenseNet169, and VGG11 with batch normalization, and evaluate them on the CIFAR-10 and ImageNet datasets.</p> <p>The following Figure shows Top1 Score VS. the energy cost of infering the whole validation set. In some instances, we observe that adjusting the accumulator by just a few bits can save an amount of energy equivalent to that required for a 3-year-old toddler to climb a 3-meter hill.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="https://github.com/Bynaryman/OSFNTC/assets/937470/fa832531-fa79-44b9-ac37-308847355bf6" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="AI results 1" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Top1 Accuracy vs. energy cost of inferring validation datasets with various model, computer format, and accumulators. </div> <p>The following Figure depicts the myriad of evaluated configurations in terms of Top1/Top5 scores and score cost.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="https://github.com/Bynaryman/OSFNTC/assets/937470/75293628-a9ff-4bc9-8f50-ef14fc2ce061" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="AI results 2" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Top1/Top5 Accuracies and Top1/Top5 Accuracy Costs for various datasets, models, computer formats, and accumulators. </div> <h2 id="asic-tapeout">ASIC Tapeout</h2> <p>This work is both target-agnostic and open source, which inspired us to push its boundaries by trying to make it a chip. Utilizing the exact same toolchain, we were able to successfully manufacture a functional, open-source tapeout. This achievement was made possible through a fruitful collaboration with Google, Skywater, and Efabless.</p> <p>Special thanks to <a href="https://github.com/mattvenn" rel="external nofollow noopener" target="_blank">@mattvenn</a> of the Zero To ASIC course for making it possible.</p> <p>The image below showcases a ray-tracing render of the 3D view of the GDS file. We replaced the metal with glass to achieve this stunning, glowing visual effect. The featured design is a 3x3 Systolic Array that uses posit&lt;8,0&gt; arithmetic and exact accumulators, also known as Quires.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <img src="https://github.com/Bynaryman/OSFNTC/assets/937470/9fafa062-419e-4111-8377-8ad016256fdc" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Raytracing" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Artistic raytracing rendering of the polygons from the GDS file describing the chip. </div> <p>We invite you to explore the following links for a deeper understanding of this project. They will guide you to the code that generated this chip, and offer additional valuable insights into this open-source PDK (Process Development Kit) collaboration.</p> <ol> <li><a href="https://github.com/mattvenn/zero_to_asic_mpw5" rel="external nofollow noopener" target="_blank">Zero to ASIC MPW5</a></li> <li><a href="https://zerotoasiccourse.com/post/mpw5_submitted/" rel="external nofollow noopener" target="_blank">MPW5 Submitted Article</a></li> <li><a href="https://github.com/Bynaryman/wrapped_teras" rel="external nofollow noopener" target="_blank">Wrapped Teras</a></li> <li><a href="https://github.com/Bynaryman/teras/tree/master" rel="external nofollow noopener" target="_blank">Teras Main Repository</a></li> </ol> <h2 id="contribution">Contribution</h2> <p>If you’re open to contributions, great! Here are some guidelines you can follow:</p> <ol> <li> <p><strong>Fork the Repository</strong> - Click on the “Fork” button at the top-right of this page. This will create a copy of this repository in your GitHub account.</p> </li> <li> <p><strong>Clone the Repository</strong> - Now, go to your GitHub account, open the forked repository, click on the “Code” button and then click the “Copy to clipboard” icon.</p> </li> </ol> <p>Open a terminal and run the following git command:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone "url you just copied"
</code></pre></div></div> <ol> <li> <strong>Create a New Branch</strong> - Change to the repository directory on your computer (if you are not already there):</li> </ol> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd repository-name
</code></pre></div></div> <p>Now create a new branch using the <code class="language-plaintext highlighter-rouge">git checkout</code> command:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout -b your-new-branch-name
</code></pre></div></div> <ol> <li> <strong>Make Necessary Changes and Commit Those Changes</strong> - Now you can make changes in the source code. After you’ve made changes or added files, you can add those new files to your local repository, which we do with the <code class="language-plaintext highlighter-rouge">git add .</code> command:</li> </ol> <p>Now we commit those changes with the <code class="language-plaintext highlighter-rouge">git commit</code> command:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git commit -m "My super contribution that does a 10x speed improvement"
</code></pre></div></div> <ol> <li> <strong>Push Changes to GitHub</strong> - These changes are now in the HEAD of your local working copy. To send those changes to your remote repository, execute the following <code class="language-plaintext highlighter-rouge">git push</code> command:</li> </ol> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push origin &lt;your-branch-name&gt;
</code></pre></div></div> <ol> <li> <strong>Submit your Changes for Review</strong> - If you go to your repository on GitHub, you’ll see a <code class="language-plaintext highlighter-rouge">Compare &amp; pull request</code> button. Click on that button and you’ll be taken to a page where you can create a pull request.</li> </ol> <h2 id="license">License</h2> <p>Academic Free License (“AFL”) v. 3.0</p> <h2 id="citing">Citing</h2> <p>To cite this work, please refer to the articles published in FCCM2022 and FPL2023 whose bibtex are shown below</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@INPROCEEDINGS{
    ledoux2022,
    author={Ledoux, Louis and Casas, Marc},
    booktitle={2022 IEEE 30th Annual International Symposium on Field-Programmable Custom Computing Machines (FCCM)},
    title={A Generator of Numerically-Tailored and High-Throughput Accelerators for Batched GEMMs},
    year={2022},
    doi={10.1109/FCCM53951.2022.9786164}
}
</code></pre></div></div> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@SUBMITTED{
    ledoux2023,
    author={Ledoux, Louis and Casas, Marc},
    booktitle={FPL},
    title={An Open-Source Framework for Efficient Numerically-Tailored Computations},
    year={2023},
    doi={Still NONE}
}
</code></pre></div></div> <p>Some Subsets of this work have also been presented in other not peer reviewed venues such as BSCSymposium23 and OpenPOWER Summit 2019, again bibtex below</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@misc{ledoux:hal-04094835,
  TITLE = ,
  AUTHOR = {Ledoux, Louis and Casas, Marc},
  URL = {https://hal.science/hal-04094835},
  NOTE = {Poster},
  HOWPUBLISHED = ,
  ORGANIZATION = ,
  YEAR = {2023},
  MONTH = May,
  KEYWORDS = {GEMMs ; matrix-matrix-multiply ; full stack framework ; automated pipeline ; flopoco ; OpenCAPI ; OpenBLAS ; High Performance Computing ; approximate/trans/extended precision},
  PDF = {https://hal.science/hal-04094835/file/BSC_Symposium_10_Louis_Ledoux_final.pdf},
  HAL_ID = {hal-04094835},
  HAL_VERSION = {v1},
}

</code></pre></div></div> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@inproceedings{ledoux:hal-04094850,
  TITLE = ,
  AUTHOR = {Ledoux, Louis and Casas, Marc},
  URL = {https://hal.science/hal-04094850},
  BOOKTITLE = ,
  ADDRESS = {Lyon, France},
  ORGANIZATION = ,
  YEAR = {2019},
  MONTH = Oct,
  KEYWORDS = {FPGA ; posit ; acceleration ; PCIE ; CAPI ; CAPI2 ; POWER9},
  HAL_ID = {hal-04094850},
  HAL_VERSION = {v1},
}
</code></pre></div></div> <h2 id="authors">Authors</h2> <ul> <li>Me / Bynaryman / Louis Ledoux <a href="https://github.com/Bynaryman" rel="external nofollow noopener" target="_blank">@Bynaryman</a> </li> <li>Marc Casas <a href="https://github.com/Marccg1" rel="external nofollow noopener" target="_blank">@Marccg1</a> </li> </ul> </article> <h2>References</h2> <div class="publications"> </div> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2026 Louis Ledoux. Last updated: February 10, 2026. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?b7816bd189846d29eded8745f9c4cf77"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.min.js" integrity="sha256-rjmgmaB99riUNcdlrDtcAiwtLIojSxNyUFdl+Qh+rB4=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script type="module" src="/assets/js/search/ninja-keys.min.js?601a2d3465e2a52bec38b600518d5f70"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script>let theme=determineComputedTheme();const ninjaKeys=document.querySelector("ninja-keys");"dark"===theme?ninjaKeys.classList.add("dark"):ninjaKeys.classList.remove("dark");const openSearchModal=()=>{const e=document.querySelector(".navbar-collapse");e.classList.contains("show")&&e.classList.remove("show"),ninjaKeys.open()};</script> <script>const ninja=document.querySelector("ninja-keys");ninja.data=[{id:"nav-about",title:"about",section:"Navigation",handler:()=>{window.location.href="/"}},{id:"nav-blog",title:"blog",description:"",section:"Navigation",handler:()=>{window.location.href="/blog/"}},{id:"nav-publications",title:"publications",description:"publications by categories in reversed chronological order.",section:"Navigation",handler:()=>{window.location.href="/publications/"}},{id:"nav-projects",title:"projects",description:"A growing collection of my cool projects with an attempt to distinguish between work and fun\u2014though the line is pretty thin!",section:"Navigation",handler:()=>{window.location.href="/projects/"}},{id:"nav-repositories",title:"repositories",description:"GitHub metrics dashboard with activity, achievements, languages, and habits.",section:"Navigation",handler:()=>{window.location.href="/repositories/"}},{id:"nav-cv",title:"cv",description:"This is an overview of my work life. You can also download the pdf with the following button to access the more academic and complete version.",section:"Navigation",handler:()=>{window.location.href="/cv/"}},{id:"post-i-won-the-tinytapeout-sticker-competition",title:"I Won the TinyTapeout Sticker Competition!",description:"The sticker set built from my GDS-to-raytrace pipeline took first place and earned a free tapeout on the next TinyTapeout shuttle.",section:"Posts",handler:()=>{window.location.href="/blog/2025/tinytapeout-sticker-competition-win/"}},{id:"post-90s-retro-raytracing-of-sky130hd-cells-with-bryce",title:"90s Retro Raytracing of SKY130HD Cells with Bryce",description:"Extracting SKY130HD full adder geometry from GDS to Bryce for a 90s retro render pass.",section:"Posts",handler:()=>{window.location.href="/blog/2024/bryce-sky130hd-retro-raytracing/"}},{id:"post-quot-music-dj-set-quot",title:"[&quot;Music/DJ set&quot;]",description:"Another 1h GOA set",section:"Posts",handler:()=>{window.location.href="/blog/2024/djset-buying/"}},{id:"post-my-take-on-manim-slides",title:"My Take on Manim Slides",description:"Exploring Manim Slides for interactive website embedding and dynamic presentations.",section:"Posts",handler:()=>{window.location.href="/blog/2024/manim-slides/"}},{id:"post-ada-wavetables",title:"ADA Wavetables",description:"Sampling my cat and performing Wavetable synthesis out of it",section:"Posts",handler:()=>{window.location.href="/blog/2024/ada-wavetable/"}},{id:"post-rom-\xe0-ranger",title:"ROM \xe0 ranger",description:"I have been experimenting with unveiling and sorting frame pixels to showcase the Teras design.",section:"Posts",handler:()=>{window.location.href="/blog/2024/rom-a-ranger/"}},{id:"posts-rom-\xe0-ranger",title:"ROM \xe0 ranger",description:"I have been experimenting with unveiling and sorting frame pixels to showcase the Teras design.",section:"Posts",handler:()=>{window.location.href="/blog/2024/rom-a-ranger/"}},{id:"posts-ada-wavetables",title:"ADA Wavetables",description:"Sampling my cat and performing Wavetable synthesis out of it",section:"Posts",handler:()=>{window.location.href="/blog/2024/ada-wavetable/"}},{id:"posts-my-take-on-manim-slides",title:"My Take on Manim Slides",description:"Exploring Manim Slides for interactive website embedding and dynamic presentations.",section:"Posts",handler:()=>{window.location.href="/blog/2024/manim-slides/"}},{id:"posts-quot-music-dj-set-quot",title:"[&quot;Music/DJ set&quot;]",description:"Another 1h GOA set",section:"Posts",handler:()=>{window.location.href="/blog/2024/djset-buying/"}},{id:"posts-90s-retro-raytracing-of-sky130hd-cells-with-bryce",title:"90s Retro Raytracing of SKY130HD Cells with Bryce",description:"Extracting SKY130HD full adder geometry from GDS to Bryce for a 90s retro render pass.",section:"Posts",handler:()=>{window.location.href="/blog/2024/bryce-sky130hd-retro-raytracing/"}},{id:"posts-i-won-the-tinytapeout-sticker-competition",title:"I Won the TinyTapeout Sticker Competition!",description:"The sticker set built from my GDS-to-raytrace pipeline took first place and earned a free tapeout on the next TinyTapeout shuttle.",section:"Posts",handler:()=>{window.location.href="/blog/2025/tinytapeout-sticker-competition-win/"}},{id:"projects-osfntc",title:"OSFNTC",description:"An Open-Source Framework for Efficient Numerically-Tailored Computations",section:"Projects",handler:()=>{window.location.href="/projects/osfntc/"}},{id:"projects-pof",title:"POF",description:"Systemverilog for MLPs with posit number system",section:"Projects",handler:()=>{window.location.href="/projects/pof/"}},{id:"projects-le-retrorchestre",title:"Le RetrOrchestre",description:"Turning retro computer hardware into a USB-MIDI orchestra that mixes engineering with playful spectacle.",section:"Projects",handler:()=>{window.location.href="/projects/retrorchestre/"}},{id:"projects-suf",title:"SUF",description:"a graft approach to enhance OpenROAD",section:"Projects",handler:()=>{window.location.href="/projects/suf/"}},{id:"socials-email",title:"Send email",section:"Socials",handler:()=>{window.open("mailto:%69.%66.%6C%6C%65%64%6F%75%78@%67%6D%61%69%6C.%63%6F%6D","_blank")}},{id:"socials-orcid",title:"ORCID",section:"Socials",handler:()=>{window.open("https://orcid.org/0009-0006-3643-2157","_blank")}},{id:"socials-google-scholar",title:"Google Scholar",section:"Socials",handler:()=>{window.open("https://scholar.google.com/citations?user=JWBIqG8AAAAJ","_blank")}},{id:"socials-ieee-xplore",title:"IEEE Xplore",section:"Socials",handler:()=>{window.open("https://ieeexplore.ieee.org/author/37089414555/","_blank")}},{id:"socials-github",title:"GitHub",section:"Socials",handler:()=>{window.open("https://github.com/Bynaryman","_blank")}},{id:"socials-linkedin",title:"LinkedIn",section:"Socials",handler:()=>{window.open("https://www.linkedin.com/in/ledoux-louis","_blank")}},{id:"socials-x",title:"X",description:"Twitter",section:"Socials",handler:()=>{window.open("https://twitter.com/L0u1s73doux","_blank")}},{id:"socials-work",title:"Work",section:"Socials",handler:()=>{window.open("https://www.bsc.es/ledoux-louis","_blank")}},{id:"socials-dblp",title:"DBLP",section:"Socials",handler:()=>{window.open("https://dblp.org/pid/322/0396.html","_blank")}},{id:"socials-instagram",title:"Instagram",section:"Socials",handler:()=>{window.open("https://instagram.com/ledoux.louis","_blank")}},{id:"socials-youtube",title:"YouTube",section:"Socials",handler:()=>{window.open("https://youtube.com/@bynaryman","_blank")}},{id:"socials-discord",title:"Discord",section:"Socials",handler:()=>{window.open("https://discord.com/users/230046078806917120","_blank")}},{id:"socials-zotero",title:"Zotero",section:"Socials",handler:()=>{window.open("https://www.zotero.org/binaryman","_blank")}},{id:"light-theme",title:"Change theme to light",description:"Change the theme of the site to Light",section:"Theme",handler:()=>{setThemeSetting("light")}},{id:"dark-theme",title:"Change theme to dark",description:"Change the theme of the site to Dark",section:"Theme",handler:()=>{setThemeSetting("dark")}},{id:"system-theme",title:"Use system default theme",description:"Change the theme of the site to System Default",section:"Theme",handler:()=>{setThemeSetting("system")}}];</script> <script src="/assets/js/binary-background.js"></script> </body> </html>